import RPi.GPIO as GPIO
import time

# Khai b√°o ch√¢n GPIO ƒë∆∞·ª£c n·ªëi v·ªõi OUT c·ªßa c·∫£m bi·∫øn TCRT5000
TCRT5000_PIN = 17  # V√≠ d·ª• d√πng GPIO17 (PIN 11 tr√™n Pi)

# Thi·∫øt l·∫≠p GPIO
GPIO.setmode(GPIO.BCM)
GPIO.setup(TCRT5000_PIN, GPIO.IN)

def read_tcrt5000():
    # ƒê·ªçc gi√° tr·ªã digital t·ª´ c·∫£m bi·∫øn
    value = GPIO.input(TCRT5000_PIN)
    return value

# Ch·∫°y th·ª≠: in ra tr·∫°ng th√°i m·ªói 0.5s
if __name__ == "__main__":
    try:
        while True:
            state = read_tcrt5000()
            if state == 0:
                print("‚¨õ V·∫≠t c·∫£n/ph·∫£n x·∫° ƒëen ph√°t hi·ªán")  # V√≠ d·ª• g·∫∑p line ƒëen
            else:
                print("‚¨ú Kh√¥ng c√≥ v·∫≠t c·∫£n (ph·∫£n x·∫° s√°ng)")  # N·ªÅn s√°ng/tr·∫Øng
            time.sleep(0.5)
    except KeyboardInterrupt:
        print("üõë D·ª´ng l·∫°i b·ªüi ng∆∞·ªùi d√πng.")
    finally:
        GPIO.cleanup()
